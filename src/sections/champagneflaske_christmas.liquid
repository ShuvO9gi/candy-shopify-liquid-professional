<style>
 /* champagneflaske_christmas */
  .champagneflaske_christmas .productImage{
    width: 45% !important;
  }
  .champagneflaske_christmas .productContent{
    width: 50% !important;
  }
  .champagneflaske_christmas .productContent {
    padding-left: 0px !important;
}
.champagneflaske_christmas .topContentProduct {
  justify-content: space-between;
}    
  .productBoxContent-items {
    max-width: 1130px;
    margin: 0 auto;
    padding-bootom: 50px;
  }
  .productBoxContentHeadline{
    max-width: 1130px;
    margin: 0 auto;
  }
  .se_img-box {
      display: flex;
      justify-content: space-evenly;
      box-sizing: border-box;

  }

  .video-with-text{
      display: flex;
      padding-top: 40px;
      justify-content: space-between;
      gap: 60px;
  }
  .se_content {
      text-align: center;
      padding: 5px;
      box-sizing: border-box;
      flex: 0 0 25%;
      font-size: 12px;
  }

  .se_content img {
      max-width: 100%;
      height: auto;
      margin: 8px auto;
      min-height: 59px;
  }

  .se_banner-img{
      max-width: 50%;
  }

  .se_banner-img img{
      max-width: 100%;
  }

  .se_title{
      font-weight: 700;
      font-size: 14px;
  }
  .se_title-bottom{
      font-size: 12px;
  }


  .text-se_content{
      font-size: 16px;
      padding: 5px;

  }

  .video-se_content {
      position: relative;
      max-width: 50%;
      max-height: 425px;

  }

  .se_video {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;

  }

  .se_play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      cursor: pointer;
      opacity: 0;
  }
  .video-se_content:hover .se_play-button{
    opacity: 1;
  }
.video-se_content i{
  color: #ED9F44;
  font-size: 40px;
}
.champagneflaske_christmas .se_prod-description{
    padding-top: 100px ;
  }
  .champagneflaske_christmas .productBoxContentHeadline{
  padding-bottom: 30px;
}
  .christmas_top_img{
    width: 100%;
  }
  
.champagneflaske_christmas .sticky {
    position: fixed;
    bottom: 0;
    z-index: 1000;
    background-color: #6E4695;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    margin: 0 !important;
    width: 100%;
    display: flex;
    max-width: 100% !important;
    left: 0;
    align-items: center;
    justify-content: center;
    padding: 16px 0;
    gap: 10px;
  }
.champagneflaske_christmas .sticky .product-card__title{
    display: none !important;
}
.champagneflaske_christmas .sticky .product{
    width: 100%;
    gap: 10px;
}
 .champagneflaske_christmas .candyBoxBuyButton{
    padding: 11px 16px !important;
  }
  .champagneflaske_christmas .sticky #AddToCartText-custom{
    font-size: 14px !important;
  }
 .champagneflaske_christmas .product{
      width: 100%;
    }
    .champagneflaske_christmas .product-card__btn-wrapper{
      width: 50%;
    }
    .champagneflaske_christmas .product-detail .submit-wrapper{
      width: 50%;
    }
  .productContent .productDescription{
      margin-top: 30px;
  }
.champagneflaske_christmas .productLabel{
    color: #fdac2b;
    font-weight: 700;
}
  /* For desktop screen */
  @media only screen and (min-width: 1024px) {


  .se_img-box{
      max-width: 100%;
      margin-top: 60px;
  }
  .se_content {
      text-align: center;
      padding: 5px;
      box-sizing: border-box;
      flex: 0 0 25%;
      font-size: 12px;
  }

  .text-se_content{
      max-width: 75%;

  }
  }




  /* For tablet */
  @media only screen and (min-width: 768px) and (max-width: 1023px) {
      .text-se_content{
      max-width: 50%;
  }

  .se_video {
      width: 100%;
      height: 285px;
      display: block;
      object-fit: cover;
  }

  .se_img-box {
      max-width: 100%;
  }

  }

  /* For mobile */
  @media only screen and (max-width: 767px) {

 .se_img-box {
    display: flex;
    margin: 0 ;
    max-width: 100%;
    overflow: scroll;
}
    .se_content {
    flex: 0 0 50% !important;
}
  .video-with-text {
    gap: 30px !important;
    flex-direction: column;
}
    .video-se_content {
    max-width: 80% !important;
    margin: 0 auto;
}
  .champagneflaske_christmas .productImage{
    width: 100% !important;
  }
  .champagneflaske_christmas .productContent{
    width: 100% !important;
  }
    .champagneflaske_christmas #AddToCartText-custom{
      font-size: 13px !important;
    }
    .champagneflaske_christmas .productBoxContentHeadline {
    padding-bottom: 0 !important;
    padding-left: 30px;
}
    .product-detail select[class^=variant__input] {
    width: 87% !important;
}
   .champagneflaske_christmas .productImage {
    margin: 20px 0 !important;
}
    .se_img-box {
    justify-content: flex-start !important;
    padding-bottom: 10px;
}
   .champagneflaske_christmas .se_prod-description {
    padding-top: 20px !important;
}
   .champagneflaske_christmas .productLabel{
    text-align: center;  
    }
    .champagneflaske_christmas .productBoxContent {
    padding-bottom: 50px !important;
}
  .christmas_top_img {
    height: 100px;
    object-fit: cover;
}
  .champagneflaske_christmas .topContentProduct {
    width: 100% !important;
      margin-top: 0 !important;
}
  .champagneflaske_christmas .page-container {
    padding-left: 30px !important;
    padding-right: 30px !important;
}
  .champagneflaske_christmas .productBoxContent-items{
    display: grid !important;
    grid-template-columns: 1fr 1fr;
    text-align: center;
    justify-items: center;
  }
  .champagneflaske_christmas .variant__input-custom option{
    font-size: 16px;
    padding-left: 10px;
  }
  .product-detail select[class^=variant__input]{
    font-size: 16px !important;
    }
  }

</style>
{%- assign current_variant = product.selected_or_first_available_variant %}
<div class="section-container champagneflaske_christmas">
  <div class="page-container">
    <div class="topContentProduct flex" style="margin-top: 4rem;">
      <div class="productImage">
        <img src="{{ product | image_url: width: 600 }}">
      </div>
      <div class="productContent">
        <h1 class="productContentHeadline type-style-h2-bold">
          {{ product.title }}
        </h1>
<div class="productPriceContent">
  <span class="productPrice type-style-h2-bold" id="productPrice">Fra {{ product.price | money }} </span>
  <span class="priceText text-grey type-style-p-small-regular">
    Inkl. moms. Fragt bliver tilføjet ved betaling.
  </span>
</div>


        {%- render 'product-form-new', section_id: section_id, product: product, current_variant: current_variant -%}
        <div class="se_img-box">
          <div class="se_content img-1">
            <img src="https://cdn.shopify.com/s/files/1/0555/3461/6756/files/SlikEks_icon_transport_1.png?v=1700645095" alt="" >
            <p class="se_title">Gratis fragt</p>
            <p class="se_title-bottom">Køb for over 399 kr. og få gratis fragt</p>
          </div>

          <div class="se_content img-1">
            <img src="https://cdn.shopify.com/s/files/1/0555/3461/6756/files/SlikEks_icon_ur_1.png?v=1700645095" alt="">
            <p class="se_title">Vi sender i dag</p>
            <p class="se_title-bottom">Bestil inden 14:00 (alle hverdage)</p>
          </div>

          <div class="se_content img-2">
            <img src="https://cdn.shopify.com/s/files/1/0555/3461/6756/files/SlikEks_icon_slik_1.png?v=1700645095" alt="">
            <p class="se_title">Kæmpe udvalg</p>
            <p class="se_title-bottom">+450 varianter direkte fra fabrikken</p>
          </div>

          <div class="se_content img-2">
            <img src="https://cdn.shopify.com/s/files/1/0555/3461/6756/files/SlikEks_icon_hygiejne_1.png?v=1700645094" alt="">
            <p class="se_title">100% hygiejnisk</p>
            <p class="se_title-bottom">Pakket med handsker og hårnet</p>
          </div>
        </div>
        {% if section.settings.show_desc %}
        <div class="productDescription type-style-p-regular">
          {{ product.description }}
        </div>
        {% endif %}
        {% if product.metafields.mix.contents_label != blank %}
          <div class="productLabel">
            {{ product.metafields.mix.contents_label }}
          </div>
        {% endif%}

        {% assign hasBox = false %}
    
        {% capture productBoxesHTML %}

          {% assign productMixs = product.metafields.my_fields %}

          {% for mix in productMixs %}
            {% assign thekey = mix[0] %}
            {% assign thevalue = mix[1] %}
      
            {% comment %}reference : https://shopify.dev/api/liquid/objects/metafield#metafield-type{% endcomment %}
      
            {% if thevalue.type == 'product_reference' %}

              {% assign hasBox = true %}
              {% if thevalue.value != blank %}   
                <a href="{{thevalue.value.handle}}" target="_blank">        
                  <div class="productPartMix">
                    <div class="productPartMixImage">
                      {% if thevalue.value != blank %}
                        <img src="{{ thevalue.value | image_url: width: 150 }}">    
                      {% endif%}
                    </div>
                    <div class="productPartMixContent">
                      <div class="productPartMixTitle type-style-card-h">
                          {{ thevalue.value.title }}
                      </div>
                      <div class="productPartMixVendor type-style-card-h-subhead">
                        {{ thevalue.value.vendor }}
                      </div>
                    </div>
                  </div>
                </a>
              {% endif%}
              {% comment %} https://shopify.dev/api/liquid/objects/product {% endcomment %}
            {% endif %}
          {% endfor %}
          <div class="clear"></div>
        {% endcapture%}
    
        {% if hasBox == true %}
        <div class="productBoxContent">
          <div class="productBoxContentHeadline type-style-h3-bold">Blandingen består af:-</div>
            {{ productBoxesHTML }}
          </div>
        {% endif %}
      </div>
      <div class="clear"></div>
    </div>
    <div class="se_prod-description">
      <div class="video-with-text">
        {% unless section.settings.show_desc %}
          <div class="productDescription type-style-p-regular">
            {{ product.description }}
          </div>
        {% endunless %}
          {% if section.settings.addvideo %}
           {% assign video_url = product.metafields.custom.video_url %}
            <div class="video-se_content">
                <video src="{{ video_url }}" id="se_myVideo" class="se_video" autoplay loop muted playsinline></video>
                <button class="se_play-button" onclick="playPause()">
                    <i class="fas fa-pause"></i>
                </button>
            </div>
          {% endif %}
       </div>

{% assign hasBox = false %}
    {% capture productBoxesHTML %}
      {% assign productMixs = product.metafields.custom.allProductMixs.value %}
      {% for mix in productMixs %}
        {% assign hasBox = true %}
        {% if mix != blank %}   
          <a href="{{ mix.url }}" target="_blank">        
            <div class="productPartMix">
              <div class="productPartMixImage">
                <img src="{{ mix | image_url: width: 150 }}">    
              </div>
              <div class="productPartMixContent">
                <div class="productPartMixTitle type-style-card-h">
                    {{ mix.title }}
                </div>
                <div class="productPartMixVendor type-style-card-h-subhead">
                  {{ mix.vendor }}
                </div>
              </div>
            </div>
          </a>
        {% endif%}
      {% endfor %}
      <div class="clear"></div>
    {% endcapture%}
 
      {% comment %}
          {{ product.metafields.my_fields.productMix_12 }}

          {% assign recommended_product_1 =  product.metafields.my_fields.productMix_12.value %}
        {{ recommended_product_1.title }}

        <img src="{{ recommended_product_1 | image_url: width: 300 }}">
      {% endcomment %}
    </div>
  </div>
      {% if hasBox == true %}
        <div class="productBoxContent">
          <div class="productBoxContentHeadline type-style-h3-bold v">Slikket i dette produkt er:</div>
          <div class="productBoxContent-items">{{ productBoxesHTML }}</div>
        </div>
      {% endif %}'
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var urlParams = new URLSearchParams(window.location.search);
    var variantId = urlParams.get('variant');
    var productPrice = document.getElementById('productPrice');

    // Function to update the price based on the variant ID
    function updatePrice(variantId) {
      var selectedVariant = product.variants.find(function(variant) {
        return variant.id == variantId;
      });

      if (selectedVariant) {
        productPrice.textContent = selectedVariant.price | money;
      }
    }

    // Initial update based on URL parameter
    if (variantId) {
      updatePrice(variantId);
    }

    // Listen for changes in the URL
    window.addEventListener('popstate', function() {
      var newUrlParams = new URLSearchParams(window.location.search);
      var newVariantId = newUrlParams.get('variant');

      if (newVariantId) {
        updatePrice(newVariantId);
      }
    });
  });
</script>
<script>
            function playPause() {
    var video = document.getElementById("se_myVideo");
    var playButton = document.querySelector('.se_play-button');

    if (video.paused) {
        video.play();
        playButton.innerHTML = '<i class="fas fa-pause"></i>';
    } else {
        video.pause();
        playButton.innerHTML = '<i class="fas fa-play"></i>';
    }
}

        </script>


{% schema %}
{
  "name": "champ_christmas",
  "tag": "section",
  "class": "shopadjust-top",
  "settings": [
      {
        "type": "checkbox",
        "id": "show_desc",
        "label": "Show description under USP"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image top"
      },
      {
        "type": "checkbox",
        "id": "addvideo",
        "label": "Add video"
      },
      {
        "type": "text",
        "id": "video",
        "label": "Video URL"
      }
  ],
  "presets": [
    {
      "name": "champ_christmas"
    }
  ]
}
{% endschema %}

