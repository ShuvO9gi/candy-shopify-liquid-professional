<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css" />
<style>
  #shopify-section-{{section.id}}{
  {% if section.settings.checkbgimagelarge %}
      background-image: url({{ section.settings.bgimagelarge | img_url: 'master' }});
      background-size: cover; 
      background-repeat: no-repeat; 
      background-position: center;
      {% else %}
      background-image: url({{ section.settings.bgimage | img_url: 'master' }});
    {% endif %}
  }
  [lang="en"] #shopify-section-{{section.id}} .cus_banner--text h1{
    font-size: 34px !important;
  }
  #shopify-section-{{section.id}} .cusimg{
    width: 145px;
    height: auto;
    transform: translate(0px, 44px);
  }
  #shopify-section-{{section.id}} .section-container{
    margin: 0 auto;
  }
  #shopify-section-{{section.id}} .cus_banner--text{
    width: 40% ;
    padding-left: 20px;
  }
  #shopify-section-{{section.id}} .cus_banner--text h1{
    font-size: {{section.settings.bannertextsize}}px !important;
  }
  #shopify-section-{{section.id}} .cus_banner--img{
    width: 60%;
    padding: 50px 50px 100px;
    justify-content: center;
  }
  .cus_banner--img img{
    border-radius: 30px;
  }
  .bannerbtn{
    margin: 0 auto;
  }
  .bannerbtn .orangeButton {
    padding: 12px 100px !important;
}
  .backgroundWallpaper h1{
    padding: 0 20px;
  }
  #shopify-section-{{section.id}} .product-single__variants{
   display: none;
  }
  #shopify-section-{{section.id}} .titleBox{
    width: 190px;
    padding: 50px 20px 20px;
    text-align: center;
    color: #fff;
    border-radius: 14px;
    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
  }
  #shopify-section-{{section.id}} .product_one .titleBox{
    background-color: {{ section.settings.featured_product_titleboxColor }};
  }
  #shopify-section-{{section.id}} .product_three .titleBox{
    background-color: {{ section.settings.third__product_titleboxColor }};
  }
  #shopify-section-{{section.id}} .three_products{
    text-align: center;
    display: flex;
    gap: 20px;
    align-items: flex-end;
  }
  #shopify-section-{{section.id}} .three_products .product__main-photos img{
    max-width: 185px;
    transform: translate(0px, 44px);
  }
  #shopify-section-{{section.id}} .three_products .product_two .product__main-photos img{
    max-width: 245px !important;
  }
  #shopify-section-{{section.id}} .three_products .grid {
    justify-items: center;
}
  #shopify-section-{{section.id}} [data-submit-button]{
    height: 20px !important;
    padding: 10px 20px !important;
    font-size: 12px !important;
  }
  #shopify-section-{{section.id}} .product-single__title{
    height: 50px;
    font-weight: 700;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    font-size: 16px;
  }
  [lang="en"] #shopify-section-{{section.id}} .product-single__title{
    font-size: 15px !important;
  }
  #shopify-section-{{section.id}} .product__price{
    padding: 10px 0;
  }
  #shopify-section-{{section.id}} .backgroundWallpaper h1{
    padding-left: 0 !important;
  }
  #shopify-section-{{section.id}} .product_two .titleBox{
    width: 250px !important;
    max-width: 250px !important;
    background-color: {{section.settings.secondary_product_titleboxColor}};
  }
  
  
  @media only screen and (max-width: 767px) {
  .cus_banner--text{
    width: 100% !important;
    padding-left: 0 !important;
       
  }
  .cus_banner--img{
    width: 100% !important;
    padding: 0 !important;
  }
  .owl-theme .owl-controls .owl-buttons div {
  position: absolute;
}
 
#shopify-section-{{section.id}} .owl-buttons .owl-prev{
    top: 50%;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center; 
    left: 6px !important;
    height: 50px !important;
    width: 36px !important;
    font-size: 40px;
    color: #fff;
    border: unset !important
}
 
#shopify-section-{{section.id}} .owl-buttons .owl-next{
    top: 50%;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center; 
    right: 6px !important;
    height: 50px !important;
    width: 36px !important;
    font-size: 40px;
    color: #fff;
    border: unset !important
}
#shopify-section-{{section.id}} .titleBox{
    margin-bottom: 30px;
    background-color: #6e4695 !important;
    width: 250px !important;
    max-width: 250px !important;
    }
#shopify-section-{{section.id}} .three_products .product_two .product__main-photos img{
    max-width: 200px !important;
  }
#shopify-section-{{section.id}} .cusimg{
    width: 200px !important;
  }
  }
  @media only screen and (min-width: 768px){
    #shopify-section-{{section.id}} .product_two [data-submit-button]{
    background: #fff !important;
    color: #FFAD05 !important;
  }
  }
</style>
{% assign today_day = 'now' | date: '%a' %}
{% assign time_hour = 'now' | date: '%H' %}
{%- liquid
  assign featured_product = all_products[section.settings.featured_product]
  assign second_product = all_products[section.settings.secondary_product]
  assign third_product = all_products[section.settings.third__product]
  
  assign featured_variant = featured_product.selected_or_first_available_variant
  assign secondary_variant = second_product.selected_or_first_available_variant
   assign third_variant = third_product.selected_or_first_available_variant
-%}
{% capture timer %}
  <div class="announcement-link-text type-style-p-regular twb-flex twb-flex-col twb-items-center md:twb-items-start">
    {% if section.settings.holidaytext != blank %}
      <span class="twb-text-white">{{ section.settings.holidaytext }}</span>
    {% elsif today_day == 'Fri' and time_hour >= '14' %}
      <span class="twb-text-white">{{ section.settings.weekendtext }}</span>
    {% elsif today_day == 'Sat' %}
      <span class="twb-text-white">{{ section.settings.weekendtext }}</span>
    {% elsif today_day == 'Sun' and time_hour < '14' %}
      <span class="twb-text-white">{{ section.settings.weekendtext }}</span>
    {% elsif section.settings.order_before != blank %}
      <div>
        <span class="twb-text-white">{{ section.settings.order_before }}</span>
        <span class="time-countdown twb-text-brand-green" data-time></span>
      </div>
    {% endif %}
  </div>
{% endcapture %}

<div class="section-container twb-container twb-flex twb-flex-col-reverse md:twb-flex-row">
  <div class="twb-block md:twb-hidden">
    {% render '2023-homepage-usp-mobile' %}
  </div>
  <div class="twb-w-full md:twb-w-400 twb-flex twb-justify-center twb-items-center twb-mb-8 md:twb-mb-0 cus_banner--text">
    <div class="twb-flex twb-flex-col twb-items-center md:twb-items-start">
      <h1 class="twb-text-white type-style-h1-regular twb-flex twb-flex-col twb-items-center md:twb-items-start twb-text-center md:twb-text-left">
        {{ section.settings.headline }}
      </h1>
      <div class="type-style-h4-regular twb-my-4 md:twb-my-8">
        {{ timer }}
      </div>
      {% if section.settings.button_destination != blank %}
      <a
        href="{{ section.settings.button_destination }}"
        class="normalLink bannerbtn"
        style="position: relative;">
        <div class="orangeButton type-style-button-text">
          {{ section.settings.button_text }}
        </div>
      </a>
      {% endif %}
    </div>
  </div>
  <div class="twb-w-full md:twb-w-auto twb-flex twb-justify-center md:twb-justify-end cus_banner--img">
    
    <div class="page-width three_products">
      {% if section.settings.featured_product != blank %}
      <div class="grid product_one">
        <div class="grid__item medium-up--one-half">
        {% if section.settings.addcusimg1 %}
          <img src="{{ section.settings.cusimg1 | img_url: 'master' }}" class="cusimg">
          {% else %}
          {%- render 'product-images',
            section_id: section.id,
            product: featured_product,
            product_zoom_size: product_zoom_size,
            product_image_size: product_image_size,
            isModal: false,
            thumbnail_arrows: section.settings.thumbnail_arrows,
            mobile_layout: section.settings.mobile_layout,
            thumbnail_position: section.settings.thumbnail_position,
            video_looping: section.settings.enable_video_looping,
            video_style: section.settings.product_video_style
          -%}
          {% endif %}
        </div>
    
        <div class="grid__item medium-up--one-half titleBox">
          <div class="product-single__meta">
            <div class="h1 product-single__title">
              {%- unless featured_product.empty? -%}
                {{ featured_product.title }}
              {%- else -%}
                {{ 'home_page.onboarding.product_title' | t }}
              {%- endunless -%}
            </div>
            
            <div id="ProductPrice-{{ section.id }}"
              class="product__price{% if featured_variant.compare_at_price > featured_variant.price %} on-sale{% endif %}">
             <span class="priceAmount">{{ featured_variant.price | money_with_currency }}</span>
            </div>
    
            {%- unless featured_product.empty? -%}
              {%- render 'product-form',
                section_id: section.id,
                product: featured_product,
                current_variant: featured_variant
              -%}
            {%- endunless -%}
          </div>
        </div>
      </div>
      {% endif %}
      
      <!-- Add another section for the secondary product -->
      {% if section.settings.secondary_product != blank %}
      <div class="grid product_two">
        <div class="grid__item medium-up--one-half">
          {% if section.settings.addcusimg2 %}
          <img src="{{ section.settings.cusimg2 | img_url: 'master' }}" class="cusimg">
          {% else %}
          {%- render 'product-images',
            section_id: section.id,
            product: second_product,
            product_zoom_size: product_zoom_size,
            product_image_size: product_image_size,
            isModal: false,
            thumbnail_arrows: section.settings.thumbnail_arrows,
            mobile_layout: section.settings.mobile_layout,
            thumbnail_position: section.settings.thumbnail_position,
            video_looping: section.settings.enable_video_looping,
            video_style: section.settings.product_video_style
          -%}
          {% endif %}
        </div>
    
        <div class="grid__item medium-up--one-half titleBox">
          <div class="product-single__meta">
            <div class="h1 product-single__title">
              {%- unless second_product.empty? -%}
                {{ second_product.title }}
              {%- else -%}
                {{ 'home_page.onboarding.product_title' | t }}
              {%- endunless -%}
            </div>
            
            <div id="ProductPrice-{{ section.id }}"
              class="product__price{% if secondary_variant.compare_at_price > secondary_variant.price %} on-sale{% endif %}">
             <span class="priceAmount">{{ secondary_variant.price | money_with_currency }}</span>
            </div>
    
            {%- unless second_product.empty? -%}
              {%- render 'product-form',
                section_id: section.id,
                product: second_product,
                current_variant: secondary_variant
              -%}
            {%- endunless -%}
          </div>
        </div>
      </div>
      {% endif %}

      {% if section.settings.third__product != blank %}
      <div class="grid product_three">
        <div class="grid__item medium-up--one-half">
          {% if section.settings.addcusimg3 %}
          <img src="{{ section.settings.cusimg3 | img_url: 'master' }}" class="cusimg">
          {% else %}
          {%- render 'product-images',
            section_id: section.id,
            product: third_product,
            product_zoom_size: product_zoom_size,
            product_image_size: product_image_size,
            isModal: false,
            thumbnail_arrows: section.settings.thumbnail_arrows,
            mobile_layout: section.settings.mobile_layout,
            thumbnail_position: section.settings.thumbnail_position,
            video_looping: section.settings.enable_video_looping,
            video_style: section.settings.product_video_style
          -%}
          {% endif %}
        </div>
    
        <div class="grid__item medium-up--one-half titleBox">
          <div class="product-single__meta">
            <div class="h1 product-single__title">
              {%- unless third_product.empty? -%}
                {{ third_product.title }}
              {%- else -%}
                {{ 'home_page.onboarding.product_title' | t }}
              {%- endunless -%}
            </div>
            
            <div id="ProductPrice-{{ section.id }}"
              class="product__price{% if secondary_variant.compare_at_price > secondary_variant.price %} on-sale{% endif %}">
             <span class="priceAmount">{{ secondary_variant.price | money_with_currency }}</span>
            </div>
    
            {%- unless third_product.empty? -%}
              {%- render 'product-form',
                section_id: section.id,
                product: third_product,
                current_variant: third_variant
              -%}
            {%- endunless -%}
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    
  </div>
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.js"></script>                
  <script>
$(document).ready(function () {
  // Function to check if the screen width is less than or equal to 768px (mobile)
  function isMobile() {
    return window.innerWidth <= 768;
  }

  // Initialize the Owl Carousel only on mobile devices
  if (isMobile()) {
    var carousel = $(".three_products");
    carousel.owlCarousel({
      items: 1,
      navigation: true,
      navigationText: ["<i class='fa fa-angle-left'></i>", "<i class='fa fa-angle-right'></i>"],
      loop: false
    });
  }
});

  </script>
{% schema %}
  {
    "name": "hero - 2 with products",
    "tag": "section",
    "class": "shopadjust-top",
    "settings": [
      {
        "type": "image_picker",
        "id": "bgimage",
        "label": "Background image",
        "info": "Image size 115x93 (for repeated candy image)"
      },
      {
        "type": "checkbox",
        "id": "checkbgimagelarge",
        "label": "Enable Large image size"
      },
      {
        "type": "image_picker",
        "id": "bgimagelarge",
        "label": "Add large size Background image",
        "info": "Image size 1980x1000"
      },
      {
        "type": "richtext",
        "id": "headline",
        "label": "Overskrift"
      },
      {
        "type": "range",
        "id": "bannertextsize",
        "min": 24,
        "max": 72,
        "step": 4,
        "unit": "px",
        "label": "Headline font size",
        "default": 36
      },
      {
        "type": "richtext",
        "id": "subheadline",
        "label": "Subheadline"
      },
      {
        "type": "text",
        "id": "order_before",
        "label": "Before timer text",
        "default": "Bestil indenfor"
      },
      {
        "type": "richtext",
        "id": "weekendtext",
        "label": "Weekend text"
      },
      {
        "type": "richtext",
        "id": "holidaytext",
        "label": "Holiday text"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Tekst på knap"
      },
      {
        "type": "url",
        "id": "button_destination",
        "label": "Side link"
      },
      {
        "type": "header",
        "content": "Product 1"
      },
      {
        "type": "checkbox",
        "id": "addcusimg1",
        "label": "Enable custom image"
      },
      {
        "type": "image_picker",
        "id": "cusimg1",
        "label": "Product 1 custom image"
      },
      {
        "type": "product",
        "id": "featured_product",
        "label": "Product 1"
      },
      {
        "type": "color",
        "id": "featured_product_titleboxColor",
        "label": "Product 1 title box bg",
        "default": "#6E4695"
      },
      {
        "type": "header",
        "content": "Product 2"
      },
      {
        "type": "checkbox",
        "id": "addcusimg2",
        "label": "Enable custom image"
      },
      {
        "type": "image_picker",
        "id": "cusimg2",
        "label": "Product 2 custom image"
      },
      {
        "type": "product",
        "id": "secondary_product",
        "label": "Product 2"
      },
      {
        "type": "color",
        "id": "secondary_product_titleboxColor",
        "label": "Product 2 title box bg",
        "default": "#FFAD05"
      },
      {
        "type": "header",
        "content": "Product 3"
      },
      {
        "type": "product",
        "id": "third__product",
        "label": "Product 3"
      },
      {
        "type": "checkbox",
        "id": "addcusimg3",
        "label": "Enable custom image"
      },
      {
        "type": "image_picker",
        "id": "cusimg3",
        "label": "Product 3 custom image"
      },
      {
        "type": "color",
        "id": "third__product_titleboxColor",
        "label": "Product 3 title box bg",
        "default": "#6E4695"
      }
    ],
    "presets": [
      {
        "name": "hero - 2 with products"
      }
    ]
  }
{% endschema %}
